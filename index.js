var  server = require('ws').Server;var s = new server({port:5001});const WebSocket =require("ws");let users_ID = {};let count=0;s.on('connection',function (ws) {        ws.on('message',function (message) {                let sock2 = new WebSocket("ws://localhost:5002");                message = JSON.parse(message);                console.log(message);                sock2.onopen = function(){                        sock2.send(JSON.stringify({                                type:"ok",                                data:"200"                        }));                };                // if(message.user_ID){                //         console.log("hi fron set interfl");                // setInterval(()=>{                //         console.log(message.user_ID)                //                // },5000);                // }                if(message.type == "login") {                        // console.log("hi from login if ");                        // ws.seif="why";                        users_ID[message.user_ID] = ws;                        ws.user_idd = message.user_ID;                        // users_ID[message.user_ID] = message.user_name;                        // console.log(JSON.stringify(users_ID));                }                if(message.type == "forse_logout"){                    // console.log("hi from forse_logout");                        // console.log(users_ID);                s.clients.forEach(function e(client) {                        console.log( message.user_ID);                        if(users_ID[message.user_ID] === client) {                                client.send(JSON.stringify({                                        type:message.type,                                        data:message.user_ID                                }));                         console.log("fimaasdasd pleasss");                                console.log(client.user_idd);                        }                        // console.log(client);                    // if(client != ws) {                    //     console.log(ws.personName);                    //     client.send(JSON.stringify({                    //         name:ws.personName,                    //         data:message.data                    //                    //     }));                    // }                })                }        });        ws.on('close', function() {                delete users_ID[ws.user_idd];                console.log("closed from onclose server" );        });});